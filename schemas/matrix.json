{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "MatrixQuestionBank",
  "type": "object",
  "properties": {
    "level1": {
      "type": "array",
      "items": { "$ref": "#/definitions/MatrixQuestion" }
    },
    "level2": {
      "type": "array",
      "items": { "$ref": "#/definitions/MatrixQuestion" }
    },
    "level3": {
      "type": "array",
      "items": { "$ref": "#/definitions/MatrixQuestion" }
    },
    "level4": {
      "type": "array",
      "items": { "$ref": "#/definitions/MatrixQuestion" }
    },
    "level5": {
      "type": "array",
      "items": { "$ref": "#/definitions/MatrixQuestion" }
    }
  },
  "required": ["level1", "level2", "level3", "level4", "level5"],
  "definitions": {
    "MatrixQuestion": {
      "type": "object",
      "properties": {
        "levelId": {
          "type": "integer",
          "description": "ID unik untuk soal ini."
        },
        "questionCode": {
          "type": "string",
          "description": "Kode (soal) yang dilihat oleh user."
        },
        "initialMatrix": {
          "type": "array",
          "items": {
            "type": "array",
            "items": { "type": "integer" },
            "minItems": 3,
            "maxItems": 3
          },
          "minItems": 3,
          "maxItems": 3
        },
        "goalMatrix": {
          "type": "array",
          "items": {
            "type": "array",
            "items": { "type": "integer" },
            "minItems": 3,
            "maxItems": 3
          },
          "minItems": 3,
          "maxItems": 3
        },
        "commands": {
          "type": "array",
          "description": "Solusi tersembunyi yang digunakan engine (berdasarkan matrix_command_model.dart)",
          "items": { "$ref": "#/definitions/Command" }
        }
      },
      "required": ["levelId", "questionCode", "initialMatrix", "goalMatrix", "commands"]
    },
    "Command": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "enum": ["UP", "DOWN", "LEFT", "RIGHT"]
        },
        "value": {
          "type": "integer"
        }
      },
      "required": ["command", "value"]
    }
  }
}